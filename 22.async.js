webpackJsonp([22],{1287:function(e,t){e.exports={main:"main____pV_J",getCaptcha:"getCaptcha___3Ac2M",submit:"submit___1GZsy",login:"login___2LRRD",success:"success___1s2uC",warning:"warning___1mxFE",error:"error___cLR7E","progress-pass":"progress-pass___2jaF3",progress:"progress___39kYU"}},1315:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s.d(t,"default",function(){return L});var r,i,a,o=s(28),n=s.n(o),l=s(179),c=s.n(l),p=s(180),d=s.n(p),u=s(181),v=s.n(u),g=s(182),m=s.n(g),h=s(183),f=s.n(h),_=s(94),y=s.n(_),w=s(0),b=(s.n(w),s(516)),k=(s.n(b),s(132)),S=(s.n(k),s(109)),x=s(1287),P=s.n(x),C=S.m.Item,z=S.A.Option,F=S.o.Group,N={ok:y()("div",{className:P.a.success},void 0,"\u5f3a\u5ea6\uff1a\u5f3a"),pass:y()("div",{className:P.a.warning},void 0,"\u5f3a\u5ea6\uff1a\u4e2d"),poor:y()("div",{className:P.a.error},void 0,"\u5f3a\u5ea6\uff1a\u592a\u77ed")},D={ok:"success",pass:"normal",poor:"exception"},I=y()("h3",{},void 0,"\u6ce8\u518c"),R=y()(S.o,{size:"large",placeholder:"\u90ae\u7bb1"}),V=y()(S.o,{size:"large",type:"password",placeholder:"\u81f3\u5c116\u4f4d\u5bc6\u7801\uff0c\u533a\u5206\u5927\u5c0f\u5199"}),q=y()(S.o,{size:"large",type:"password",placeholder:"\u786e\u8ba4\u5bc6\u7801"}),A=y()(z,{value:"86"},void 0,"+86"),G=y()(z,{value:"87"},void 0,"+87"),j=y()(S.o,{size:"large",placeholder:"\u9a8c\u8bc1\u7801"}),L=(r=Object(b.connect)(function(e){return{register:e.register,submitting:e.loading.effects["register/submit"]}}),i=S.m.create(),r(a=i(a=function(e){function t(){var e,s,r;d()(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return m()(r,(s=r=m()(this,(e=t.__proto__||c()(t)).call.apply(e,[this].concat(a))),r.state={count:0,confirmDirty:!1,visible:!1,help:"",prefix:"86"},r.onGetCaptcha=function(){var e=59;r.setState({count:e}),r.interval=setInterval(function(){e-=1,r.setState({count:e}),0===e&&clearInterval(r.interval)},1e3)},r.getPasswordStatus=function(){var e=r.props.form,t=e.getFieldValue("password");return t&&t.length>9?"ok":t&&t.length>5?"pass":"poor"},r.handleSubmit=function(e){e.preventDefault(),r.props.form.validateFields({force:!0},function(e,t){e||r.props.dispatch({type:"register/submit",payload:n()({},t,{prefix:r.state.prefix})})})},r.handleConfirmBlur=function(e){var t=e.target.value;r.setState({confirmDirty:r.state.confirmDirty||!!t})},r.checkConfirm=function(e,t,s){var i=r.props.form;t&&t!==i.getFieldValue("password")?s("\u4e24\u6b21\u8f93\u5165\u7684\u5bc6\u7801\u4e0d\u5339\u914d!"):s()},r.checkPassword=function(e,t,s){if(t)if(r.setState({help:""}),r.state.visible||r.setState({visible:!!t}),t.length<6)s("error");else{var i=r.props.form;t&&r.state.confirmDirty&&i.validateFields(["confirm"],{force:!0}),s()}else r.setState({help:"\u8bf7\u8f93\u5165\u5bc6\u7801\uff01",visible:!!t}),s("error")},r.changePrefix=function(e){r.setState({prefix:e})},r.renderPasswordProgress=function(){var e=r.props.form,t=e.getFieldValue("password"),s=r.getPasswordStatus();return t&&t.length?y()("div",{className:P.a["progress-".concat(s)]},void 0,y()(S.x,{status:D[s],className:P.a.progress,strokeWidth:6,percent:10*t.length>100?100:10*t.length,showInfo:!1})):null},s))}return f()(t,e),v()(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.form.getFieldValue("mail");"ok"===e.register.status&&this.props.dispatch(k.routerRedux.push({pathname:"/user/register-result",state:{account:t}}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.props,t=e.form,s=e.submitting,r=t.getFieldDecorator,i=this.state,a=i.count,o=i.prefix;return y()("div",{className:P.a.main},void 0,I,y()(S.m,{onSubmit:this.handleSubmit},void 0,y()(C,{},void 0,r("mail",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u90ae\u7bb1\u5730\u5740\uff01"},{type:"email",message:"\u90ae\u7bb1\u5730\u5740\u683c\u5f0f\u9519\u8bef\uff01"}]})(R)),y()(C,{help:this.state.help},void 0,y()(S.w,{content:y()("div",{style:{padding:"4px 0"}},void 0,N[this.getPasswordStatus()],this.renderPasswordProgress(),y()("div",{style:{marginTop:10}},void 0,"\u8bf7\u81f3\u5c11\u8f93\u5165 6 \u4e2a\u5b57\u7b26\u3002\u8bf7\u4e0d\u8981\u4f7f\u7528\u5bb9\u6613\u88ab\u731c\u5230\u7684\u5bc6\u7801\u3002")),overlayStyle:{width:240},placement:"right",visible:this.state.visible},void 0,r("password",{rules:[{validator:this.checkPassword}]})(V))),y()(C,{},void 0,r("confirm",{rules:[{required:!0,message:"\u8bf7\u786e\u8ba4\u5bc6\u7801\uff01"},{validator:this.checkConfirm}]})(q)),y()(C,{},void 0,y()(F,{compact:!0},void 0,y()(S.A,{size:"large",value:o,onChange:this.changePrefix,style:{width:"20%"}},void 0,A,G),r("mobile",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\uff01"},{pattern:/^1\d{10}$/,message:"\u624b\u673a\u53f7\u683c\u5f0f\u9519\u8bef\uff01"}]})(y()(S.o,{size:"large",style:{width:"80%"},placeholder:"11\u4f4d\u624b\u673a\u53f7"})))),y()(C,{},void 0,y()(S.z,{gutter:8},void 0,y()(S.i,{span:16},void 0,r("captcha",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801\uff01"}]})(j)),y()(S.i,{span:8},void 0,y()(S.f,{size:"large",disabled:a,className:P.a.getCaptcha,onClick:this.onGetCaptcha},void 0,a?"".concat(a," s"):"\u83b7\u53d6\u9a8c\u8bc1\u7801")))),y()(C,{},void 0,y()(S.f,{size:"large",loading:s,className:P.a.submit,type:"primary",htmlType:"submit"},void 0,"\u6ce8\u518c"),y()(k.Link,{className:P.a.login,to:"/user/login"},void 0,"\u4f7f\u7528\u5df2\u6709\u8d26\u6237\u767b\u5f55"))))}}]),t}(w.Component))||a)||a)}});